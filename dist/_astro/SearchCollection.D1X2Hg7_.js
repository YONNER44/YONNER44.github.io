import{j as e}from"./jsx-runtime.BjG_zV1W.js";import{r}from"./index.C7o2Wufa.js";import{F as E,S as y,c as f,A as C}from"./SearchBar.DQWxDoHF.js";const n="/astro-sphere/";function $({entry_name:u,data:o,tags:p}){const d=o.map(s=>s),[i,h]=r.useState(""),[t,x]=r.useState(new Set),[m,k]=r.useState(d),[a,g]=r.useState(!1),j=new E(d,{keys:["slug","data.title","data.summary","data.tags"],includeMatches:!0,minMatchCharLength:2,threshold:.4});r.useEffect(()=>{const s=(i.length<2?d:j.search(i).map(c=>c.item)).filter(c=>Array.from(t).every(l=>c.data.tags.some(S=>S.toLowerCase()===String(l).toLowerCase())));k(a?[...s].reverse():s)},[i,t,a,o]);function v(){g(s=>!s)}function N(s){x(c=>{const l=new Set(c);return l.has(s)?l.delete(s):l.add(s),l})}function w(){x(new Set)}const b=s=>{h(s.currentTarget.value)};return r.useEffect(()=>{const s=document.getElementById("search-collection-wrapper");s&&(s.style.minHeight="unset")},[]),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:[e.jsx("div",{className:"col-span-3 sm:col-span-1",children:e.jsxs("div",{className:"sticky top-24 mt-7",children:[e.jsx(y,{onSearchInput:b,query:()=>i,setQuery:h,placeholderText:`Buscar ${u}`}),e.jsxs("div",{className:"relative flex flex-row justify-between w-full",children:[e.jsx("p",{className:"text-sm font-semibold uppercase my-4 text-black dark:text-white",children:"Etiquetas"}),t.size>0&&e.jsx("button",{onClick:w,className:"absolute flex justify-center items-center h-full w-10 right-0 top-0 stroke-neutral-400 dark:stroke-neutral-500 hover:stroke-neutral-600 hover:dark:stroke-neutral-300",children:e.jsx("svg",{className:"size-5",children:e.jsx("use",{href:`${n}ui.svg#x`})})})]}),e.jsx("ul",{className:"flex flex-wrap sm:flex-col gap-1.5",children:p.map(s=>e.jsx("li",{className:"sm:w-full",children:e.jsxs("button",{onClick:()=>N(s),className:f("w-full px-2 py-1 rounded","flex gap-2 items-center","bg-black/5 dark:bg-white/10","hover:bg-black/10 hover:dark:bg-white/15","transition-colors duration-300 ease-in-out",t.has(s)&&"text-black dark:text-white"),children:[e.jsxs("svg",{className:f("shrink-0 size-5 fill-black/50 dark:fill-white/50","transition-colors duration-300 ease-in-out",t.has(s)&&"fill-black dark:fill-white"),children:[e.jsx("use",{href:`${n}ui.svg#square`,className:t.has(s)?"hidden":"block"}),e.jsx("use",{href:`${n}ui.svg#square-check`,className:t.has(s)?"block":"hidden"})]}),e.jsx("span",{className:"truncate block min-w-0 pt-[2px]",children:s})]})},s))})]})}),e.jsx("div",{className:"col-span-3 sm:col-span-2",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"flex justify-between flex-row mb-2",children:[e.jsxs("div",{className:"text-sm uppercase",children:["MOSTRANDO ",m.length," DE ",o.length," ",u]}),e.jsxs("button",{onClick:v,className:"flex flex-row gap-1 stroke-neutral-400 dark:stroke-neutral-500 hover:stroke-neutral-600 hover:dark:stroke-neutral-300 text-neutral-400 dark:text-neutral-500 hover:text-neutral-600 hover:dark:text-neutral-300",children:[e.jsx("div",{className:"text-sm uppercase",children:a?"DESCENDENTE":"ASCENDENTE"}),e.jsxs("svg",{className:"size-5 left-2 top-[0.45rem]",children:[e.jsx("use",{href:`${n}ui.svg#sort-descending`,className:a?"block":"hidden"}),e.jsx("use",{href:`${n}ui.svg#sort-ascending`,className:a?"hidden":"block"})]})]})]}),e.jsx("ul",{className:"flex flex-col gap-3",children:m.map(s=>e.jsx("li",{children:e.jsx(C,{entry:s})},s.slug))})]})})]})}export{$ as default};
